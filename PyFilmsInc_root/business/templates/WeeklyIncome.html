{% extends 'graphs-base.html' %}

{% block scripts %}
<script>
    //Function is loaded when the page loads
    var config = {
        type: 'line',
        data: {
            labels: {{ labels|safe }},
            datasets: [{    
                label: 'Filled',
				backgroundColor: "#404796",
				borderColor: "#404796",        
                data: {{ data|safe }},
                label: 'Weekly Income',
                fill: false,
                }]
    },
options: {
				responsive: true,
				tooltips: {
					mode: 'index',
					intersect: false,
				},
				hover: {
					mode: 'nearest',
					intersect: true
				},
				scales: {
					xAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'Week'
						}
					}],
					yAxes: [{
						display: true,
                        ticks: {
                            suggestedMin: 0
                        },
						scaleLabel: {
							display: true,
							labelString: 'Total earning (Â£)'
						}
					}]
				}
			}
	};

    var config2 = {
        type : 'bar',
        data : {
            labels: {{ label2 | safe }},
            datasets : [{
                label: "Movies",
                backgroundColor: "rgba(204, 0, 0, .4)",
                borderColor: "#c00",
                borderWidth: 2,
                hoverBackgroundColor: "#59597F",
                data: {{ data2 |safe }},
            }]
        },
    }



    $(document).ready(function () {
        let ctx = document.getElementById('myChart').getContext('2d');
        window.myChart = new Chart(ctx, config);

        let ctx2 = document.getElementById('movieChart').getContext('2d');
        window.movieChart = new Chart(ctx2 , config2);
    });
</script>

{% endblock scripts %}
{% block content %}


<div class="container" style="height: 50vh">
    <div align="center">
        <h1>Weekly Income</h1>
        <canvas class="chart-style" id="myChart"></canvas>
    </div>
    <div align="center">
        <h1>Income Per Movie</h1>
        <canvas class="chart-style" id="movieChart"></canvas>
    </div>
</div>


{% endblock content %}